% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/reverse_check_docu.R
\name{reverse_check_docu}
\alias{reverse_check_docu}
\title{Reverse check documentation of data sets.}
\usage{
reverse_check_docu(corpuspath, sav_path_list, pdf_path)
}
\arguments{
\item{corpuspath}{Pfad, unter dem der externe Korpus (die "whitelist") als \code{.rdata} file abgelegt ist. (Die Funktion zieht sich automatisch den aktuellsten Korpus, der in dem Ordner liegt.)}

\item{sav_path_list}{Liste der Datensatznamen inklusive ihrer Speicherpfade.}

\item{pdf_path}{Character vector with paths to the \code{.pdf} files.}
}
\value{
Die Funktion gibt eine Liste mit den Objekten \code{venn_docu}, \code{unique_tokens} und \code{ext_corpus} aus.
\code{venn_docu} ist ein Objekt der Klasse "venn"; der Output von gplots::venn.
\code{unique_tokens} ist ein String-Vektor, der die Wörter enthält, die im Skalenhandbuch, aber weder im Datensatz, noch im externen Korpus enthalten sind.
\code{ext_corpus} ist der externe Korpus, der im ersten Schritt eingelesen wurde und die bisherige "whitelist" umfasst.
\code{variables} ist eine Liste der Variablen, die aus den Datensätzen extrahiert wurden.
}
\description{
Diese Funktion nimmt das Skalenhandbuch, extrahiert alle Wörter, sortiert die aus, die als Variablennamen in einem oder mehreren Datensätzen vorkommen und diejenigen, die auf einer "whitelist" stehen. Dann gibt sie eine Liste derjenigen Begriffe aus, bei denen es sich möglicherweise um Variablennamen handelt, die nicht im Datensatz auffindbar sind.
}
\details{
Die Formel benötigt folgenden Input:
}
\examples{

studie <- "" # Hier den Ordnernamen der Studie in 01_Studien angeben (FDZ-intern)
studienpath <- "" # Hier den output-Pfad angeben
setwd(studienpath)

out <- reverse_check_docu(corpuspath = corpuspath, sav_path_list = sav_path_list, pdf_path = pdf_path)

plot(out$venn_docu)
corpus_alt <- out$ext_corpus
# 3. Ergebnis rausschreiben
write.csv(docu_unique, file=paste0(studienpath, "/", studie, "Skalenhandbuch_unique_words.csv"))

### # Dieses csv muss haendisch durchgegangen werden und verbliebene Variablennamen muessen identifiziert werden. Dies sind Variablen, die vermutlich in der Doku, aber nicht im Datensatz vorkommen und nochmals detailliert geprueft werden muessen. Diese werden in ein anderes Dokument kopiert und im Original geloescht. Das Original wird im nÃ¤chsten Schritt wieder hier eingelesen, um den externen Korpus zu updaten

## 4.  externen Korpus aktualisieren fuer spaetere Verwendung, Namen der Quelle einfuegen
add_corp <- read.csv(paste0(studie, "Skalenhandbuch_unique_words.csv"), header=F, sep=";")
add_corp <- paste(add_corp$V2, collapse = " ")
names(add_corp) <- paste("Skalendokumentation", studie, sep=" ")
add_corp <- quanteda::corpus(add_corp)

corpus <- corpus_alt + add_corp
save(corpus, file=paste0("corpus", Sys.Date(), ".rdata"))

}
